@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Army Grievances | @ViewBag.Title</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.6 -->
    <meta name="_token" content="3IYWaw6jsxT6KR0JXFGlr5qObut26w6j3PcDi5Bk" />
    <link rel="stylesheet" href="~/css/VL_CSS/all.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="~/css/Portolostyle.css">
    <link rel="stylesheet" type="text/css" href="~/css/responsive.css">
    <link rel="stylesheet" type="text/css" href="~/css/App4Min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/jquery-ui.min.css" />
    <link rel="stylesheet" type="text/css" href="~/css/multiple-select.css" />
    <link rel="stylesheet" type="text/css" href="~/css/PagedList.css" />
    <link rel="stylesheet" type="text/css" href="~/css/site.css" />

    <link rel="stylesheet" type="text/css" href="~/css/select2.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&amp;display=fallback" />
    <!-- Font Awesome -->
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
    <link rel="stylesheet" href="~/css/VL_CSS/adminlte.min.css" />
    <!-- overlayScrollbars-->
    <link rel="stylesheet" href="~/css/VL_CSS/OverlayScrollbars.min.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="~/css/VL_CSS/Responsive.css" />

    <script type="text/javascript" src="~/Scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery-3.6.4.min.js"></script>
    <script type="text/javascript" src="~/Scripts/modernizr-2.8.3.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery-ui.min.js"></script>
    <script type="text/javascript" src="~/Scripts/alertify.min.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.datetimepicker.full.min.js"></script>
    <script type="text/javascript" src="~/Scripts/multiple-select.js"></script>
    <script type="text/javascript" src="~/Scripts/nicEdit-latest.js"></script>
    <script type="text/javascript" src="~/Scripts/select2.min.js"></script>
    <script type="text/javascript" src="~/Scripts/Pagination.js"></script>
    <script src="~/Scripts/jquery.cookie.js"></script>
    <script src="~/Scripts/siteCouncilCommon.js"></script>
    <script src="~/Scripts/VL_JS/overlayScrollbars.min.js"></script>
    <script src="~/Scripts/VL_JS/adminlte.js"></script>

    <style type="text/css" media="screen">
        .content-header > .breadcrumb > li + li:before {
            content: '|\00a0';
        }

        .text-white {
        }

        .fa-asterisk {
            color: red;
            font-size: 7px;
            vertical-align: super;
        }

        .cursor:hover {
            cursor: pointer !important;
            color: #2d4e94 !important;
            text-decoration: underline !important;
        }

        .cursor {
            cursor: pointer !important;
            color: #2d4e94 !important;
            text-decoration: underline !important;
        }

        .select2-container .select2-selection--single {
            box-sizing: border-box;
            cursor: pointer;
            display: block;
            height: 38px;
            user-select: none;
            -webkit-user-select: none;
        }

        fieldset.fieldset_border {
            border: 5px solid #ddd !important;
            margin: 1px;
            padding: 5px;
            position: relative;
            border-radius: 4px;
            padding-right: 22px !important;
            padding-right: 22px !important;
            width: 100%;
        }

        .card {
            border-radius: 1.5rem;
        }

        .modal-content {
            border-radius: 1rem;
        }

    </style>

</head>
<body class="hold-transition  sidebar-mini layout-fixed " id="body_id">
    <!-- Site wrapper -->
    <div class="wrapper">
        <nav class="main-header navbar navbar-expand navbar-white fixed-top navbar-light" style="background-color:#001f3f">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                @* <li class="nav-item">
                <a class="nav-link" id="bars_btn" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars" style="color:#fff"></i></a>
                </li> *@
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars" style="color:whitesmoke"></i></a>
                    <a class="nav-link close-meniicon" data-widget="pushmenu" href="#" role="button" style="background-color: #001f3f;"><i class="fa fa-times" aria-hidden="true" style="background-color: #001f3f;color:white"></i></a>
                </li>
                <li>
                    <a href="~/Home/Dashboard" style="color:whitesmoke" title="Go To DashBoard" class=" nav__link mr-0 nav-link">Home &nbsp;<i class="fa fa-home" style="font-size:24px;color:white;"></i></a>
                </li>
            </ul>

            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <strong style="color:#fff;margin-top: 10px">Welcome : <span style="color:#28a745">Sonipat</span> :: <span style="color:#28a745">@Html.Raw(HttpContextAccessor.HttpContext?.Session.GetString("User"))</span></strong>
                    @*  <a class="btn btn-lg" title="Logout" id="btn_logout" href="https://edmshry.nic.in/edms/public/admin/logout"
                    onclick="event.preventDefault();
                    document.getElementById('logout-form').submit();">
                    <i class="fa fa-power-off" style="color:#dc3545"> <strong style="color:#fff">Logout</strong></i>
                    </a> *@
                    <i class="fa fa-power-off" style="color:#dc3545">
                        <input type="button" value="Logout" id="Logout" class="btn btn-success logout-btn" />
                    </i>

                </li>
            </ul>
        </nav>
        <!-- /.navbar -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4" style="background-color:#001f3f ">
            <a href="JavaScript:void(0);" class="brand-link logo-switch text-center" style="background-color:#fff;border:solid black;">
                <img src="~/images/SliderImages/NIC-Logo1.png" alt="" style="text-align: center;width: 250px;height: 80px">
            </a>
            <div class="sidebar">
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                        <li class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="fa fa-cog text-info"></i>
                                <p>
                                    ESM Individual
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="~/ESM/Records" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; "> Records</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="~/ESM/VisitLogs" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; "> Visitor Logs</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="~/ESM/NewIndividual" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; ">Add Individual</p>
                                    </a>
                                </li>
                            </ul>

                        </li>
                    </ul>
                </nav>
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                        <li class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="fa fa-cog text-info"></i>
                                <p>
                                    Grievance
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="~/Grievance/Records" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; "> Records</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="~/Grievance/NewGrievance" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; ">Add Grievance</p>
                                    </a>
                                </li>
                            </ul>

                        </li>
                    </ul>
                </nav>
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                        <li class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="fa fa-cog text-info"></i>
                                <p>
                                    In/Out Mails
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="~/MailIn_Out/Records" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; ">Out Mail Records</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="~/MailIn_Out/NewMail" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; ">Add Out Mail</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="~/MailIn_Out/InRecords" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; ">In Mail Records</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="~/MailIn_Out/NewInMail" class="sub-nav__link nav-link ">
                                        <i class="far fa-circle nav-icon"></i>
                                        <p style="color:#ffffff;font-weight:bold; ">Add In Mail</p>
                                    </a>
                                </li>
                            </ul>

                        </li>
                    </ul>
                </nav>
            </div>
        </aside>



        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->

            <div class="row">
                <div class="col-lg-12">
                    <div class="body-main-wrap">
                        @RenderBody()
                    </div>
                </div>
            </div>

        </div>

        <!-- /.content-wrapper -->
        <div class="loading" align="center">
            <img src="~/images/icons/colorful-loading.gif" alt="" style="background-color:transparent" />
            <br />
            <br />
            <b>Loading...   Please Wait!</b>
        </div>

        <footer class="main-footer" style="position: fixed; bottom: 0px; width: 100%; z-index: 210;background-color:#001f3f;color:white">
            <strong>Copyright &copy; <span id="year" style="text-decoration: underline;"></span> </strong>&nbsp;
            This website is designed &amp; developed by National Informatics Center,Sonipat and maintained by District Administration,Sonipat
            <div class="float-right d-none d-sm-inline-block">
            </div>
        </footer>
        @RenderSection("scripts", required: false)
        <!-- Add the sidebar's background. This div must be placed
        immediately after the control sidebar -->

    </div>

    <script>
        var url = window.location;

        // for sidebar menu entirely but not cover treeview
        $('ul.nav-sidebar a').filter(function () {
            return this.href == url;
        }).addClass('active');
        // for treeview
        $('ul.nav-treeview a').filter(function () {
            return this.href == url;
        }).parentsUntil(".nav-sidebar > .nav-treeview").addClass('menu-open').prev('a').addClass('active').prev('i').addClass('fa-dot-circle').removeClass('fa-circle');

    </script>

</body>
</html>

<script type="text/javascript">
    window.onload = function () {
        setTimeout(function () {
            document.body.removeChild(modal);
            loading.style.display = "none";
        }, 1000); //Delay just used for example and must be set to 0.
    };
    var modal, loading;
    function ShowProgress() {
        modal = document.createElement("DIV");
        modal.className = "modaling";
        document.body.appendChild(modal);
        loading = document.getElementsByClassName("loading")[0];
        loading.style.display = "block";
        var top = Math.max(window.innerHeight / 2 - loading.offsetHeight / 2, 0);
        var left = Math.max(window.innerWidth / 2 - loading.offsetWidth / 2, 0);
        loading.style.top = top + "px";
        loading.style.left = left + "px";
    };
    ShowProgress();
    document.getElementById("year").innerHTML = (new Date().getFullYear());
    $("#Logout").click(function (e) {
        window.location.href = '/Home/Logout';
    });

    $("#menu-toggler").click(function () {
        $("body").toggleClass("menu-active");
    });
    function ShowHelplinePopup() {
        $('#modalHelpline').modal('show');
        $('#modalHelpline').draggable();
    }
    function ShowContactPopup() {
        // $('#custom_contents').load('/Configuration/TermsOfUse');
        $('#modaltermsOfUse').modal('show');
        $('#modaltermsOfUse').draggable();
    }

</script>
<script>
    const isGlobalAdmin = @Html.Raw(Json.Serialize(HttpContextAccessor.HttpContext?.Session.GetInt32("IsGlobalAdmin")));
    const isAdmin = @Html.Raw(Json.Serialize(@HttpContextAccessor.HttpContext?.Session.GetInt32("IsAdmin")));
    const isSuperAdmin = @Html.Raw(Json.Serialize(HttpContextAccessor.HttpContext?.Session.GetInt32("IsSuperAdmin")));
</script>